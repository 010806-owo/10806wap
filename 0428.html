<html>
<head>
    <title>0428筆記-打字遊戲</title>
    <meta charset="UTF-8">
    <style>
        .word {
            display: inline-block;
            padding: 5px 10px;
            border: 5px solid gray;
            text-align: center;
            font-size: 32pt;
            font-family: Arial,Helvetica,sans-serif;
            position: relative;
        }
         red {
            color: red;
         }
    </style>
    <script>
        function kbDown() {
            //console.log(event.key);
            event.preventDefault();
            if(event.key=="Enter") {
                input="";
            } else if(event.key="backspace") {
                   
            }else if(event.key.lenfth == 1){
                input+=event.key.charCodeAt(0);
                if((code>=65 && code<=90) || (code>=97 && code<=122))
                input+=event.key;
            words=Array.from(document.getElementsByClassName("word"));
            words.filter(function(w) {
                return w.innerText.startsWith(input);
            }).ForEach(function(w){
                w.innerHTML=`<mark>${input}</mrak>`+ w.innerText.subsstr(input.length);
            });    
            }
            
              
            }


            function rand(min,max) {
                return Math.floor(Math.random()*(max-min+1))+min;
            }
        
        function genWord() {
            /*
            var wordlist=["hello","apple","banana","cake"]
            var idx=Math.floor(Math.random() * wordlist.length);
            return wordlist[isx];
            */
           var len=rand(3,9);
           var str=""
           for(i=0; i<len; i++) {
            var CAPS=[65,97];
            randnum=randnum=rand(0,25)+CAPS[rand(0,1)];
            str+=String.fromCharCode(randnum);
           }
            return str;
        }
        function gameStart() {
        document.getElementById("btnStart").style.display="none";
        ti=setInterval(function(){
            var a=document.createElement("div");
            a.className="Word";
            a.innerHTML=genWord();
            a.pos={x:0,y:0}
            a.style.left=a.pos.x+"PX";
            a.move=setInterval(function(o){
                o.pos.y+5;
                o.style.top=o.pos.y+"px";
                if(o.pos.y > (document.body.offsetHeight-100)) {
                    clearInterval(o.move);
                    o.remove();

                }
            },100,a);
            document.appendChild(a);
        },2000);

    }
    </script>

</head>
<body onkeydown="kbDown();">
    <div id="status" style="display: none;"></div>
    <button id="btnStart" onclick="gameStart();">遊戲開始</button>
</body>
</html>